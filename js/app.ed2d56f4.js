(function(e){function t(t){for(var i,s,o=t[0],u=t[1],l=t[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);c&&c(t);while(p.length)p.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],i=!0,o=1;o<r.length;o++){var u=r[o];0!==a[u]&&(i=!1)}i&&(n.splice(t--,1),e=s(s.s=r[0]))}return e}var i={},a={app:0},n=[];function s(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=i,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(r,i,function(t){return e[t]}.bind(null,i));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue2-typeahead/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=u;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"23e8":function(e,t,r){var i=r("f8bf");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=r("499e").default;a("3fdbe8b5",i,!0,{sourceMap:!1,shadowMode:!1})},"33d0":function(e,t,r){var i=r("814a");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=r("499e").default;a("7ac41b34",i,!0,{sourceMap:!1,shadowMode:!1})},"4f6d":function(e,t,r){var i=r("c660");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=r("499e").default;a("461a4a1c",i,!0,{sourceMap:!1,shadowMode:!1})},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello",attrs:{id:"app"}},[r("h1",[e._v(e._s(e.msg))]),r("h2",[e._v("Result is: "+e._s(e.data))]),r("TypeAhead",{attrs:{classes:e.classes,placeholder:e.placeholder,src:"/data.json?keyword=:keyword",getResponse:e.getResponse,selectFirst:e.selectFirst,limit:parseInt(e.limit),queryParamName:e.queryParamName,minChars:parseInt(e.minChars),delayTime:parseInt(e.delayTime),onHit:e.onHit,highlighting:e.highlighting,render:e.render,fetch:e.fetch},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}}),r("button",{staticClass:"btn btn-primary",staticStyle:{"margin-top":"60px"},attrs:{type:"button"},on:{click:function(t){e.showConfig=!e.showConfig}}},[e._v("Config")]),r("div",{attrs:{id:"config-container"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.showConfig,expression:"showConfig"}],attrs:{id:"config"}},[r("div",{staticClass:"item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectFirst,expression:"selectFirst"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selectFirst)?e._i(e.selectFirst,null)>-1:e.selectFirst},on:{change:function(t){var r=e.selectFirst,i=t.target,a=!!i.checked;if(Array.isArray(r)){var n=null,s=e._i(r,n);i.checked?s<0&&(e.selectFirst=r.concat([n])):s>-1&&(e.selectFirst=r.slice(0,s).concat(r.slice(s+1)))}else e.selectFirst=a}}}),e._v(" :selectFirst "+e._s(e.selectFirst)+" ")]),r("div",{staticClass:"item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.limit,expression:"limit"}],attrs:{type:"number"},domProps:{value:e.limit},on:{input:function(t){t.target.composing||(e.limit=t.target.value)}}}),e._v(" :limit "+e._s(e.limit)+" ")]),r("div",{staticClass:"item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.queryParamName,expression:"queryParamName"}],domProps:{value:e.queryParamName},on:{input:function(t){t.target.composing||(e.queryParamName=t.target.value)}}}),e._v(" :queryParamName "+e._s(e.queryParamName)+" ")]),r("div",{staticClass:"item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.minChars,expression:"minChars"}],attrs:{type:"number"},domProps:{value:e.minChars},on:{input:function(t){t.target.composing||(e.minChars=t.target.value)}}}),e._v(" :minChars "+e._s(e.minChars)+" ")]),r("div",{staticClass:"item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.delayTime,expression:"delayTime"}],attrs:{type:"number"},domProps:{value:e.delayTime},on:{input:function(t){t.target.composing||(e.delayTime=t.target.value)}}}),e._v(" :delayTime "+e._s(e.delayTime)+" ")]),r("div",{staticClass:"item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.placeholder,expression:"placeholder"}],domProps:{value:e.placeholder},on:{input:function(t){t.target.composing||(e.placeholder=t.target.value)}}}),e._v(" :placeholder "+e._s(e.placeholder)+" ")]),r("div",{staticClass:"item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.classes,expression:"classes"}],domProps:{value:e.classes},on:{input:function(t){t.target.composing||(e.classes=t.target.value)}}}),e._v(" :classes "+e._s(e.classes)+" ")]),e._m(0)])])],1)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"item"},[r("h2",[e._v("Methods:")]),r("p",[e._v(" getResponse: function (response) { "),r("br"),e._v(" return response.data.data.items "),r("br"),e._v("}, "),r("br"),e._v("onHit: function (item, vue) { "),r("br"),e._v(" vue.query = item "),r("br"),e._v("}, "),r("br"),e._v("highlighting: function (item, vue) { "),r("br"),e._v(" return item.toString().replace(vue.query, ` "),r("b",[e._v("${vue.query}")]),e._v("`) "),r("br"),e._v("}, "),r("br"),e._v("render: function (items, vue) { "),r("br"),e._v(" // 将搜索内容作为list的第一个 "),r("br"),e._v(" let newItem = [vue.query, ...items] "),r("br"),e._v(" return newItem "),r("br"),e._v("}, "),r("br"),e._v("fetch: function (url) { "),r("br"),e._v(" return axios.get(url) "),r("br"),e._v("} ")])])}],s=(r("99af"),r("d3b7"),r("ac1f"),r("25f0"),r("5319"),r("2909")),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"input-group",class:[e.classes]},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"form-control type-ahead-select taller",attrs:{type:"text",placeholder:e.placeholder,autocomplete:"off"},domProps:{value:e.query},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.down(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.up(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.hit(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.reset(t)}],input:[function(t){t.target.composing||(e.query=t.target.value)},function(t){return e.update(t)}]}}),r("ul",{directives:[{name:"show",rawName:"v-show",value:e.hasItems,expression:"hasItems"}],staticClass:"dropdown-menu-list dropdown-menu",attrs:{role:"menu","aria-labelledby":"dropdownMenu"}},e._l(e.items,(function(t,i){return r("li",{key:"li"+i,class:{active:e.activeClass(i)},on:{mousedown:e.hit,mousemove:function(t){return e.setActive(i)}}},[r("a",{domProps:{innerHTML:e._s(e.highlighting(t,e.vue))}})])})),0),e.showSearchingFlag?r("ul",{directives:[{name:"show",rawName:"v-show",value:!e.hasItems&&!e.isEmpty,expression:"!hasItems&&!isEmpty"}],staticClass:"dropdown-menu",attrs:{role:"menu","aria-labelledby":"dropdownMenu"}},[e.loading?r("li",{staticClass:"active",on:{mousemove:function(t){return e.setActive(e.index)}}},[r("a",[r("span",{domProps:{innerHTML:e._s(e.SearchingText)}})])]):r("li",{staticClass:"active",on:{mousemove:function(t){return e.setActive(e.index)}}},[r("a",[r("span",{domProps:{innerHTML:e._s(e.NoResultText)}})])])]):e._e()])},u=[],l=r("bc3a"),c=r.n(l);function d(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var p={name:"TypeAhead",props:{selectFirst:{required:!1,type:Boolean,default:!1},queryParamName:{required:!1,type:String,default:":keyword"},limit:{required:!1,type:Number,default:10},minChars:{required:!1,type:Number,default:2},src:{required:!1,type:String},delayTime:{required:!1,default:500,type:Number},placeholder:{required:!1,type:String},showSearchingFlag:{required:!1,default:!1,type:Boolean},NoResultText:{required:!1,default:"No result",type:String},SearchingText:{required:!1,default:"Searching...",type:String},classes:{required:!1,type:String},value:{required:!1,type:String,default:""},onHit:{required:!1,type:Function,default:function(e){this.query=e}},highlighting:{required:!1,type:Function,default:function(e){var t=new RegExp(d(this.query),"ig"),r=e.match(t);return r&&r.forEach(t=>{e=e.replace(t,`<b>${t}</b>`)}),e}},render:{required:!1,type:Function,default:function(e){return e}},getResponse:{required:!1,type:Function},fetch:{required:!1,type:Function,default:function(e){return c.a.get(e)}},objectArray:{required:!1,type:Array}},data(){return{items:[],query:"",current:-1,loading:!1,lastTime:0,data:[]}},methods:{objectUpdate(){var e=this.objectArray.filter(e=>e.toLowerCase().includes(this.query.toLowerCase()));this.data=this.limit?e.slice(0,this.limit):e,this.items=this.render(this.limit?this.data.slice(0,this.limit):this.data,this),this.current=-1,this.selectFirst&&this.down()},update(e){if(this.lastTime=e.timeStamp,!this.query)return this.reset();this.minChars&&this.query.length<this.minChars||setTimeout(()=>{if(this.lastTime-e.timeStamp===0){if(this.objectArray)return this.objectUpdate();this.loading=!0;const e=new RegExp(this.queryParamName,"g");this.fetch(this.src.replace(e,encodeURIComponent(this.query))).then(e=>{if(this.query){let t=this.getResponse(e);this.data=this.limit?t.slice(0,this.limit):t,this.items=this.render(this.limit?t.slice(0,this.limit):t,this),this.current=-1,this.loading=!1,this.selectFirst&&this.down()}})}},this.delayTime)},setActive(e){this.current=e},activeClass(e){return this.current===e},hit(){-1!==this.current&&this.onHit(this.items[this.current],this,this.current),this.reset()},up(){this.current>0?this.current--:-1===this.current?this.current=this.items.length-1:this.current=-1,this.selectFirst||-1===this.current||this.onHit(this.items[this.current],this)},down(){this.current<this.items.length-1?this.current++:this.current=-1,this.selectFirst||-1===this.current||this.onHit(this.items[this.current],this)},reset:function(){this.items=[],this.loading=!1}},watch:{value:function(e){this.query=this.query!==e?e:this.query},query:function(e){this.$emit("input",e)}},computed:{vue:function(){return this},hasItems(){return this.items.length>0},isEmpty(){return""===this.query}},mounted(){this.query=this.value,document.addEventListener("click",e=>{this.$el.contains(e.target)||this.reset()}),this.objectArray&&this.objectArray.sort()}},h=p,m=(r("63d5"),r("a9b3"),r("2877")),f=Object(m["a"])(h,o,u,!1,null,"05aa38fb",null),v=f.exports,y={components:{TypeAhead:v},name:"App",data:function(){return{msg:"Welcome to Vue2-typeahead",data:"",showConfig:!1,selectFirst:!1,limit:9999,queryParamName:":keyword",minChars:2,delayTime:500,placeholder:"Please input something",classes:"typeahead"}},methods:{getResponse:function(e){return e.data.data.items},onHit:function(e,t,r){t.query=e},highlighting:function(e,t){return e.toString().replace(t.query,"<b>".concat(t.query,"</b>"))},render:function(e,t){var r=[t.query].concat(Object(s["a"])(e));return r},fetch:function(e){return c.a.get(e)}}},g=y,b=(r("d45e"),r("b0a0"),Object(m["a"])(g,a,n,!1,null,"2ac78d46",null)),w=b.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(w)}}).$mount("#app")},"63d5":function(e,t,r){"use strict";var i=r("d9cd"),a=r.n(i);a.a},"814a":function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,".typeahead{margin:0 auto;width:50%;height:22px}",""]),e.exports=t},a9b3:function(e,t,r){"use strict";var i=r("4f6d"),a=r.n(i);a.a},abdb:function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,".dropdown-menu-list[data-v-05aa38fb]{display:list-item;width:100%}",""]),e.exports=t},b0a0:function(e,t,r){"use strict";var i=r("33d0"),a=r.n(i);a.a},c660:function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,"div.input-group input.form-control.type-ahead-select[data-v-05aa38fb]{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}ul li[data-v-05aa38fb]{padding:5px .5rem;margin:0 .25rem;border-radius:4px;cursor:pointer}ul li[data-v-05aa38fb]:hover{background-color:#f1f2f3}",""]),e.exports=t},d45e:function(e,t,r){"use strict";var i=r("23e8"),a=r.n(i);a.a},d9cd:function(e,t,r){var i=r("abdb");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=r("499e").default;a("0d39e97d",i,!0,{sourceMap:!1,shadowMode:!1})},f8bf:function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,"#app[data-v-2ac78d46]{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;margin-top:60px}h1[data-v-2ac78d46],h2[data-v-2ac78d46]{font-weight:400}a[data-v-2ac78d46]{color:#42b983}#config-container[data-v-2ac78d46]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}#config[data-v-2ac78d46],#config-container[data-v-2ac78d46]{display:-webkit-box;display:-ms-flexbox;display:flex}#config[data-v-2ac78d46]{position:relative;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;text-align:left}.item[data-v-2ac78d46]{display:inline-block}",""]),e.exports=t}});
//# sourceMappingURL=app.ed2d56f4.js.map